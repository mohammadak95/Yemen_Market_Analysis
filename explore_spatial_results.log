2024-10-10 13:47:21,888 - INFO - Starting exploration of spatial analysis results.
2024-10-10 13:47:21,892 - INFO - Loaded CSV file: public/results/choropleth_data/average_prices.csv with 987 records.
2024-10-10 13:47:21,893 - INFO - Loaded CSV file: public/results/choropleth_data/conflict_intensity.csv with 987 records.
2024-10-10 13:47:21,894 - INFO - Loaded CSV file: public/results/choropleth_data/price_changes.csv with 987 records.
2024-10-10 13:47:21,895 - INFO - Loaded CSV file: public/results/choropleth_data/residuals.csv with 0 records.
2024-10-10 13:47:21,896 - INFO - Loaded CSV file: public/results/network_data/flow_maps.csv with 105 records.
2024-10-10 13:47:21,896 - INFO - Loaded JSON file: public/results/spatial_weights/spatial_weights.json with 21 entries.
2024-10-10 13:47:21,897 - INFO - Loaded CSV file: public/results/time_series_data/conflict_intensity_time_series.csv with 987 records.
2024-10-10 13:47:21,902 - INFO - Loaded CSV file: public/results/time_series_data/prices_time_series.csv with 988 records.
2024-10-10 13:47:21,916 - INFO - Loaded JSON file: public/results/spatial_analysis_results.json with 21 entries.
2024-10-10 13:47:23,467 - INFO - Loaded GeoJSON file: public/results/enhanced_unified_data_with_residual.geojson with 106596 records.
2024-10-10 13:47:23,467 - INFO - Validating DataFrame: average_prices
2024-10-10 13:47:23,469 - INFO -  - Missing values: 0
2024-10-10 13:47:23,469 - INFO -  - Duplicate records: 0
2024-10-10 13:47:23,469 - INFO - Validating DataFrame: conflict_intensity
2024-10-10 13:47:23,470 - INFO -  - Missing values: 0
2024-10-10 13:47:23,470 - INFO -  - Duplicate records: 0
2024-10-10 13:47:23,470 - INFO - Validating DataFrame: price_changes
2024-10-10 13:47:23,470 - INFO -  - Missing values: 0
2024-10-10 13:47:23,470 - INFO -  - Duplicate records: 0
2024-10-10 13:47:23,470 - INFO - Validating DataFrame: residuals
2024-10-10 13:47:23,470 - INFO -  - Missing values: 0
2024-10-10 13:47:23,470 - INFO -  - Duplicate records: 0
2024-10-10 13:47:23,470 - INFO - Validating DataFrame: flow_maps
2024-10-10 13:47:23,471 - INFO -  - Missing values: 0
2024-10-10 13:47:23,471 - INFO -  - Duplicate records: 0
2024-10-10 13:47:23,471 - INFO - Validating DataFrame: conflict_intensity_time_series
2024-10-10 13:47:23,471 - INFO -  - Missing values: 0
2024-10-10 13:47:23,471 - INFO -  - Duplicate records: 0
2024-10-10 13:47:23,471 - INFO - Validating DataFrame: prices_time_series
2024-10-10 13:47:23,473 - INFO -  - Missing values: 815
2024-10-10 13:47:23,473 - INFO -  - Duplicate records: 0
2024-10-10 13:47:23,473 - WARNING - DataFrame 'prices_time_series' contains missing values.
2024-10-10 13:47:23,478 - INFO - Summary statistics for average_prices:
       region_id        date  avg_usdprice
count        987         987    987.000000
unique        21          47           NaN
top        abyan  2020-07-31           NaN
freq          47          21           NaN
mean         NaN         NaN      7.419581
std          NaN         NaN      4.396950
min          NaN         NaN      1.030390
25%          NaN         NaN      4.782495
50%          NaN         NaN      6.918152
75%          NaN         NaN     10.029615
max          NaN         NaN     22.733327
2024-10-10 13:47:23,480 - INFO - Saved summary statistics for average_prices to exploration_outputs/average_prices_summary.csv.
2024-10-10 13:47:23,482 - INFO - Summary statistics for conflict_intensity:
       region_id        date  avg_conflict_intensity
count        987         987              987.000000
unique        21          47                     NaN
top        abyan  2020-07-31                     NaN
freq          47          21                     NaN
mean         NaN         NaN                4.447702
std          NaN         NaN                3.014344
min          NaN         NaN                0.000000
25%          NaN         NaN                2.079442
50%          NaN         NaN                4.394449
75%          NaN         NaN                6.567979
max          NaN         NaN               12.558914
2024-10-10 13:47:23,482 - INFO - Saved summary statistics for conflict_intensity to exploration_outputs/conflict_intensity_summary.csv.
2024-10-10 13:47:23,485 - INFO - Summary statistics for price_changes:
       region_id        date  price_change_pct
count        987         987        987.000000
unique        21          47               NaN
top        abyan  2020-07-31               NaN
freq          47          21               NaN
mean         NaN         NaN        179.347262
std          NaN         NaN         59.575402
min          NaN         NaN         71.217279
25%          NaN         NaN        138.497893
50%          NaN         NaN        167.716060
75%          NaN         NaN        210.574469
max          NaN         NaN        474.971944
2024-10-10 13:47:23,486 - INFO - Saved summary statistics for price_changes to exploration_outputs/price_changes_summary.csv.
2024-10-10 13:47:23,488 - INFO - Summary statistics for residuals:
       region_id date residual commodity_regime
count          0    0        0                0
unique         0    0        0                0
top          NaN  NaN      NaN              NaN
freq         NaN  NaN      NaN              NaN
2024-10-10 13:47:23,489 - INFO - Saved summary statistics for residuals to exploration_outputs/residuals_summary.csv.
2024-10-10 13:47:23,495 - INFO - Summary statistics for flow_maps:
       source    source_lat    source_lng            target    target_lat    target_lng      weight
count     105  1.050000e+02  1.050000e+02               105  1.050000e+02  1.050000e+02  105.000000
unique     21           NaN           NaN                21           NaN           NaN         NaN
top     abyan           NaN           NaN  amanat al asimah           NaN           NaN         NaN
freq        5           NaN           NaN                 9           NaN           NaN         NaN
mean      NaN  1.612327e+06  5.600837e+05               NaN  1.609471e+06  4.865160e+05   35.159518
std       NaN  1.198888e+05  3.005812e+05               NaN  1.088260e+05  1.871220e+05    5.802304
min       NaN  1.413415e+06  2.791533e+05               NaN  1.413415e+06  2.791533e+05   26.096167
25%       NaN  1.514912e+06  3.939750e+05               NaN  1.514912e+06  3.939750e+05   29.376779
50%       NaN  1.626149e+06  4.708800e+05               NaN  1.626149e+06  4.442685e+05   34.730788
75%       NaN  1.709755e+06  5.409303e+05               NaN  1.709755e+06  5.350248e+05   40.482644
max       NaN  1.805665e+06  1.484660e+06               NaN  1.805665e+06  1.484660e+06   44.874189
2024-10-10 13:47:23,495 - INFO - Saved summary statistics for flow_maps to exploration_outputs/flow_maps_summary.csv.
2024-10-10 13:47:23,498 - INFO - Summary statistics for conflict_intensity_time_series:
       region_id        date  avg_conflict_intensity
count        987         987              987.000000
unique        21          47                     NaN
top        abyan  2020-07-31                     NaN
freq          47          21                     NaN
mean         NaN         NaN                4.447702
std          NaN         NaN                3.014344
min          NaN         NaN                0.000000
25%          NaN         NaN                2.079442
50%          NaN         NaN                4.394449
75%          NaN         NaN                6.567979
max          NaN         NaN               12.558914
2024-10-10 13:47:23,498 - INFO - Saved summary statistics for conflict_intensity_time_series to exploration_outputs/conflict_intensity_time_series_summary.csv.
2024-10-10 13:47:23,512 - INFO - Summary statistics for prices_time_series:
       region_id        date beans (kidney red)  ... wage (qualified labour)      wheat wheat flour
count        987         987                883  ...                     988        988         988
unique        21          47                638  ...                     466        639         510
top        abyan  2020-07-31             12.001  ...               60.004799  1.2000999   3.6003001
freq          47          21                 15  ...                      41         35          26

[4 rows x 23 columns]
2024-10-10 13:47:23,513 - INFO - Saved summary statistics for prices_time_series to exploration_outputs/prices_time_series_summary.csv.
2024-10-10 13:47:23,972 - INFO - Saved histograms for average_prices to exploration_outputs/average_prices_histograms.png.
2024-10-10 13:47:24,064 - INFO - Saved histograms for conflict_intensity to exploration_outputs/conflict_intensity_histograms.png.
2024-10-10 13:47:24,157 - INFO - Saved histograms for price_changes to exploration_outputs/price_changes_histograms.png.
2024-10-10 14:13:37,803 - INFO - Starting exploration of spatial analysis results.
2024-10-10 14:13:37,818 - INFO - Loaded JSON file: public/results/spatial_analysis_results.json with 21 analysis entries.
2024-10-10 14:13:37,851 - INFO - Extracted 19914 residuals from JSON data.
2024-10-10 14:13:37,861 - INFO - Aggregated residuals successfully.
2024-10-10 14:13:39,504 - INFO - Loaded enhanced GeoJSON: public/results/enhanced_unified_data_with_residual.geojson with 106596 records.
2024-10-10 14:13:39,504 - INFO - Validating DataFrame: residuals
2024-10-10 14:13:39,513 - INFO -  - Missing values: 0
2024-10-10 14:13:39,513 - INFO -  - Duplicate records: 0
2024-10-10 14:13:39,526 - INFO - Summary statistics for residuals:
       region_id                           date commodity   regime      residual
count      19914                          19914     19914    19914  1.991400e+04
unique        21                            NaN        21        1           NaN
top       sana'a                            NaN    onions  unified           NaN
freq         986                            NaN       987    19914           NaN
mean         NaN  2022-07-02 20:38:02.133172480       NaN      NaN -1.598489e-16
min          NaN            2020-07-31 00:00:00       NaN      NaN -6.326364e+01
25%          NaN            2021-06-30 00:00:00       NaN      NaN -1.270216e+00
50%          NaN            2022-06-30 00:00:00       NaN      NaN -6.603590e-02
75%          NaN            2023-06-30 00:00:00       NaN      NaN  1.028661e+00
max          NaN            2024-05-31 00:00:00       NaN      NaN  9.802545e+01
std          NaN                            NaN       NaN      NaN  7.918706e+00
2024-10-10 14:13:39,531 - INFO - Saved summary statistics for residuals to exploration_outputs/residuals_summary.csv.
2024-10-10 14:13:39,933 - INFO - Saved residuals histogram to exploration_outputs/residuals_histogram.png.
2024-10-10 14:13:40,170 - INFO - Saved residuals correlation heatmap to exploration_outputs/residuals_correlation_heatmap.png.
2024-10-10 14:13:42,411 - INFO - Saved spatial distribution map for 'residual' to exploration_outputs/residuals_map.png.
2024-10-10 14:13:43,752 - INFO - Loaded enhanced GeoJSON: public/results/enhanced_unified_data_with_residual.geojson with 106596 records.
2024-10-10 14:13:43,752 - INFO - Exploring flow maps data.
2024-10-10 14:13:43,753 - INFO - Total number of flows: 105
2024-10-10 14:13:43,753 - INFO - Average flow weight: 35.16
2024-10-10 14:13:43,753 - INFO - Maximum flow weight: 44.87
2024-10-10 14:13:43,881 - INFO - Saved top flows barplot to exploration_outputs/top_flows_barplot.png.
2024-10-10 14:13:46,815 - INFO - Saved flow maps network graph to exploration_outputs/flow_maps_network_graph.png.
2024-10-10 14:13:46,815 - INFO - Loaded JSON file: public/results/spatial_weights/spatial_weights.json with 21 analysis entries.
2024-10-10 14:13:48,182 - INFO - Loaded enhanced GeoJSON: public/results/enhanced_unified_data_with_residual.geojson with 106596 records.
2024-10-10 14:13:48,194 - INFO - Analyzing spatial weights matrix.
2024-10-10 14:13:48,194 - INFO - Number of regions: 21
2024-10-10 14:13:48,194 - INFO - Average number of neighbors per region: 5.00
2024-10-10 14:13:48,279 - INFO - Saved neighbors distribution histogram to exploration_outputs/neighbors_distribution.png.
2024-10-10 14:13:48,279 - INFO - Regions with the most neighbors (5): ['abyan', 'aden', 'al bayda', "al dhale'e", 'al hudaydah', 'al jawf', 'al maharah', 'al mahwit', 'amanat al asimah', 'amran', 'dhamar', 'hadramaut', 'hajjah', 'ibb', 'lahj', 'marib', 'raymah', "sana'a", 'shabwah', 'socotra', 'taizz']
2024-10-10 14:13:48,279 - INFO - Regions with the fewest neighbors (5): ['abyan', 'aden', 'al bayda', "al dhale'e", 'al hudaydah', 'al jawf', 'al maharah', 'al mahwit', 'amanat al asimah', 'amran', 'dhamar', 'hadramaut', 'hajjah', 'ibb', 'lahj', 'marib', 'raymah', "sana'a", 'shabwah', 'socotra', 'taizz']
2024-10-10 14:13:48,280 - INFO - Exploring spatial analysis results.
2024-10-10 14:13:48,289 - INFO - Summary statistics for spatial_analysis_results:
                 commodity   regime  intercept  ...  coef_spatial_lag_price  pval_spatial_lag_price  vif_spatial_lag_price
count                   21       21  21.000000  ...               21.000000               21.000000                   21.0
unique                  21        1        NaN  ...                     NaN                     NaN                    NaN
top     beans (kidney red)  unified        NaN  ...                     NaN                     NaN                    NaN
freq                     1       21        NaN  ...                     NaN                     NaN                    NaN
mean                   NaN      NaN   7.174195  ...                1.564636                0.002345                    1.0
std                    NaN      NaN  11.306587  ...                2.626601                0.010744                    0.0
min                    NaN      NaN   0.341132  ...                0.107195                0.000000                    1.0
25%                    NaN      NaN   2.199391  ...                0.394268                0.000000                    1.0
50%                    NaN      NaN   2.678994  ...                0.783367                0.000000                    1.0
75%                    NaN      NaN   4.418929  ...                1.053192                0.000000                    1.0
max                    NaN      NaN  46.908219  ...               10.948931                0.049236                    1.0

[11 rows x 12 columns]
2024-10-10 14:13:48,289 - INFO - Saved summary statistics for spatial_analysis_results to exploration_outputs/spatial_analysis_results_summary.csv.
2024-10-10 14:13:48,290 - INFO - Saved spatial analysis results exploration to exploration_outputs/spatial_analysis_results_exploration.csv.
2024-10-10 14:13:48,419 - INFO - Saved R-squared distribution plot to exploration_outputs/r_squared_distribution.png.
2024-10-10 14:13:48,558 - INFO - Saved Moran's I vs R-squared scatter plot to exploration_outputs/moran_i_vs_r_squared.png.
2024-10-10 14:13:48,558 - INFO - Exploration of spatial analysis results completed successfully.
2024-10-10 14:14:00,410 - INFO - Starting exploration of spatial analysis results.
2024-10-10 14:14:00,424 - INFO - Loaded JSON file: public/results/spatial_analysis_results.json with 21 analysis entries.
2024-10-10 14:14:00,438 - INFO - Extracted 19914 residuals from JSON data.
2024-10-10 14:14:00,443 - INFO - Aggregated residuals successfully.
2024-10-10 14:14:01,957 - INFO - Loaded enhanced GeoJSON: public/results/enhanced_unified_data_with_residual.geojson with 106596 records.
2024-10-10 14:14:01,957 - INFO - Validating DataFrame: residuals
2024-10-10 14:14:01,961 - INFO -  - Missing values: 0
2024-10-10 14:14:01,961 - INFO -  - Duplicate records: 0
2024-10-10 14:14:01,972 - INFO - Summary statistics for residuals:
       region_id                           date commodity   regime      residual
count      19914                          19914     19914    19914  1.991400e+04
unique        21                            NaN        21        1           NaN
top       sana'a                            NaN    onions  unified           NaN
freq         986                            NaN       987    19914           NaN
mean         NaN  2022-07-02 20:38:02.133172480       NaN      NaN -1.598489e-16
min          NaN            2020-07-31 00:00:00       NaN      NaN -6.326364e+01
25%          NaN            2021-06-30 00:00:00       NaN      NaN -1.270216e+00
50%          NaN            2022-06-30 00:00:00       NaN      NaN -6.603590e-02
75%          NaN            2023-06-30 00:00:00       NaN      NaN  1.028661e+00
max          NaN            2024-05-31 00:00:00       NaN      NaN  9.802545e+01
std          NaN                            NaN       NaN      NaN  7.918706e+00
2024-10-10 14:14:01,973 - INFO - Saved summary statistics for residuals to exploration_outputs/residuals_summary.csv.
2024-10-10 14:14:02,232 - INFO - Saved residuals histogram to exploration_outputs/residuals_histogram.png.
2024-10-10 14:14:02,466 - INFO - Saved residuals correlation heatmap to exploration_outputs/residuals_correlation_heatmap.png.
2024-10-10 14:14:05,212 - INFO - Saved spatial distribution map for 'residual' to exploration_outputs/residuals_map.png.
2024-10-10 14:14:06,611 - INFO - Loaded enhanced GeoJSON: public/results/enhanced_unified_data_with_residual.geojson with 106596 records.
2024-10-10 14:14:06,611 - INFO - Exploring flow maps data.
2024-10-10 14:14:06,611 - INFO - Total number of flows: 105
2024-10-10 14:14:06,611 - INFO - Average flow weight: 35.16
2024-10-10 14:14:06,611 - INFO - Maximum flow weight: 44.87
2024-10-10 14:14:06,747 - INFO - Saved top flows barplot to exploration_outputs/top_flows_barplot.png.
2024-10-10 14:14:09,754 - INFO - Saved flow maps network graph to exploration_outputs/flow_maps_network_graph.png.
2024-10-10 14:14:09,754 - INFO - Loaded JSON file: public/results/spatial_weights/spatial_weights.json with 21 analysis entries.
2024-10-10 14:14:11,157 - INFO - Loaded enhanced GeoJSON: public/results/enhanced_unified_data_with_residual.geojson with 106596 records.
2024-10-10 14:14:11,170 - INFO - Analyzing spatial weights matrix.
2024-10-10 14:14:11,170 - INFO - Number of regions: 21
2024-10-10 14:14:11,170 - INFO - Average number of neighbors per region: 5.00
2024-10-10 14:14:11,259 - INFO - Saved neighbors distribution histogram to exploration_outputs/neighbors_distribution.png.
2024-10-10 14:14:11,260 - INFO - Regions with the most neighbors (5): ['abyan', 'aden', 'al bayda', "al dhale'e", 'al hudaydah', 'al jawf', 'al maharah', 'al mahwit', 'amanat al asimah', 'amran', 'dhamar', 'hadramaut', 'hajjah', 'ibb', 'lahj', 'marib', 'raymah', "sana'a", 'shabwah', 'socotra', 'taizz']
2024-10-10 14:14:11,260 - INFO - Regions with the fewest neighbors (5): ['abyan', 'aden', 'al bayda', "al dhale'e", 'al hudaydah', 'al jawf', 'al maharah', 'al mahwit', 'amanat al asimah', 'amran', 'dhamar', 'hadramaut', 'hajjah', 'ibb', 'lahj', 'marib', 'raymah', "sana'a", 'shabwah', 'socotra', 'taizz']
2024-10-10 14:14:11,260 - INFO - Exploring spatial analysis results.
2024-10-10 14:14:11,269 - INFO - Summary statistics for spatial_analysis_results:
                 commodity   regime  intercept  ...  coef_spatial_lag_price  pval_spatial_lag_price  vif_spatial_lag_price
count                   21       21  21.000000  ...               21.000000               21.000000                   21.0
unique                  21        1        NaN  ...                     NaN                     NaN                    NaN
top     beans (kidney red)  unified        NaN  ...                     NaN                     NaN                    NaN
freq                     1       21        NaN  ...                     NaN                     NaN                    NaN
mean                   NaN      NaN   7.174195  ...                1.564636                0.002345                    1.0
std                    NaN      NaN  11.306587  ...                2.626601                0.010744                    0.0
min                    NaN      NaN   0.341132  ...                0.107195                0.000000                    1.0
25%                    NaN      NaN   2.199391  ...                0.394268                0.000000                    1.0
50%                    NaN      NaN   2.678994  ...                0.783367                0.000000                    1.0
75%                    NaN      NaN   4.418929  ...                1.053192                0.000000                    1.0
max                    NaN      NaN  46.908219  ...               10.948931                0.049236                    1.0

[11 rows x 12 columns]
2024-10-10 14:14:11,270 - INFO - Saved summary statistics for spatial_analysis_results to exploration_outputs/spatial_analysis_results_summary.csv.
2024-10-10 14:14:11,271 - INFO - Saved spatial analysis results exploration to exploration_outputs/spatial_analysis_results_exploration.csv.
2024-10-10 14:14:11,415 - INFO - Saved R-squared distribution plot to exploration_outputs/r_squared_distribution.png.
2024-10-10 14:14:11,554 - INFO - Saved Moran's I vs R-squared scatter plot to exploration_outputs/moran_i_vs_r_squared.png.
2024-10-10 14:14:11,555 - INFO - Exploration of spatial analysis results completed successfully.
