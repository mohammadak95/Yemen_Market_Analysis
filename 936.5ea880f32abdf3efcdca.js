"use strict";(self.webpackChunkyemen_market_analysis=self.webpackChunkyemen_market_analysis||[]).push([[936],{40936:(e,t,a)=>{a.r(t),a.d(t,{default:()=>te});var i=a(96540),r=a(5556),n=a.n(r),o=a(44675),l=a(87164),d=a(64155),s=a(8239),c=a(37483),m=a(54790),h=a(86990),g=a(40921),p=a(48719),u=a(33551),b=a(16576),y=a(98821),v=a(11692),A=a(4213),x=a(30762),f=a(44653),Y=a(45721),D=a(69107),k=a(77984),I=a(23495),w=a(78687),M=a(97018),F=a(57158),C=a(86279),T=a(30362),S=a(11641),R=a(50779),B=a(54433),_=a(67130),L=a(18740),V=a(89502),j=a(36941),z=a(2445);const W=e=>{let{data:t,selectedCommodity:a,isMobile:r}=e;const n=(0,i.useMemo)((()=>Array.isArray(t)?t.map((e=>{var t,a;return{date:e.date.getTime(),tvmii:e.tvmii,upper:null===(t=e.confidence_bounds)||void 0===t?void 0:t[1],lower:null===(a=e.confidence_bounds)||void 0===a?void 0:a[0]}})):[]),[t]),[o,s]=i.useState("all"),{getTechnicalTooltip:c}=(0,x.SC)("tvmii"),m=(0,i.useMemo)((()=>{if(!n.length)return[];let e=n;if("all"!==o){const t=new Date;t.setMonth(t.getMonth()-parseInt(o,10)),e=n.filter((e=>e.date>=t.getTime()))}return e}),[n,o]),h=(0,i.useMemo)((()=>m.length?m.reduce(((e,t)=>e+t.tvmii),0)/m.length:0),[m]),g=(p=h)>=.7?{label:"High",color:"success.main"}:p>=.3?{label:"Moderate",color:"warning.main"}:{label:"Low",color:"error.main"};var p;return(0,z.FD)(d.A,{sx:{p:2,mt:2},children:[(0,z.FD)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:2,mb:2},children:[(0,z.FD)(u.A,{variant:"h6",children:["Time-Varying Market Integration Index",(0,z.Y)(T.A,{title:c("chart"),children:(0,z.Y)(S.A,{size:"small",children:(0,z.Y)(j.A,{fontSize:"small"})})})]}),(0,z.FD)(R.A,{size:"small",sx:{minWidth:120},children:[(0,z.Y)(B.A,{children:"Time Period"}),(0,z.FD)(_.A,{value:o,onChange:e=>{s(e.target.value)},label:"Time Period",children:[(0,z.Y)(L.A,{value:"all",children:"All Time"}),(0,z.Y)(L.A,{value:"12",children:"Last 12 Months"}),(0,z.Y)(L.A,{value:"6",children:"Last 6 Months"}),(0,z.Y)(L.A,{value:"3",children:"Last 3 Months"})]})]})]}),(0,z.FD)(V.A,{severity:"High"===g.label?"success":"Moderate"===g.label?"warning":"error",sx:{mb:2},children:["Average integration level: ",(0,z.Y)("strong",{children:g.label})," (",h.toFixed(3),")"]}),(0,z.Y)(l.A,{sx:{height:r?300:400,width:"100%"},children:(0,z.Y)(f.u,{children:(0,z.FD)(Y.b,{data:m,margin:{top:10,right:30,left:0,bottom:0},children:[(0,z.Y)(D.d,{strokeDasharray:"3 3"}),(0,z.Y)(k.W,{dataKey:"date",type:"number",scale:"time",domain:["dataMin","dataMax"],tickFormatter:e=>new Date(e).toLocaleDateString(),label:{value:"Date",position:"insideBottom",offset:-10}}),(0,z.Y)(I.h,{domain:[0,1],label:{value:"Integration Index",angle:-90,position:"insideLeft",offset:10}}),(0,z.Y)(w.m,{content:e=>{let{active:t,payload:a,label:i}=e;return t&&null!=a&&a.length?(0,z.FD)(l.A,{sx:{bgcolor:"background.paper",p:1,border:1,borderColor:"divider",borderRadius:1},children:[(0,z.Y)(u.A,{variant:"body2",children:new Date(i).toLocaleDateString()}),a.map((e=>(0,z.Y)(u.A,{variant:"body2",color:e.color,children:`${e.name}: ${e.value.toFixed(3)}`},e.name)))]}):null}}),(0,z.Y)(M.s,{}),(0,z.Y)(F.e,{y:.7,stroke:"green",strokeDasharray:"3 3",label:{value:"High Integration",position:"right"}}),(0,z.Y)(F.e,{y:.3,stroke:"orange",strokeDasharray:"3 3",label:{value:"Low Integration",position:"right"}}),(0,z.Y)(C.N,{type:"monotone",dataKey:"tvmii",stroke:"#8884d8",dot:!1,name:"Raw TV-MII"})]})})}),(0,z.Y)(l.A,{sx:{mt:2},children:(0,z.FD)(u.A,{variant:"body2",color:"text.secondary",children:["Time-Varying Market Integration Index (TV-MII) for ",a,". Values closer to 1 indicate stronger market integration, while values closer to 0 suggest weaker integration."]})})]})};W.propTypes={data:n().arrayOf(n().shape({date:n().number.isRequired,tvmii:n().number.isRequired,confidence_bounds:n().arrayOf(n().number)})).isRequired,selectedCommodity:n().string.isRequired,isMobile:n().bool.isRequired};const q=W,P=e=>{let{data:t,selectedCommodity:a,isMobile:r}=e;const[n,o]=(0,i.useState)(""),[s,c]=(0,i.useState)(0),{getTechnicalTooltip:m}=(0,x.SC)("tvmii"),h=(0,i.useMemo)((()=>{const e=new Set(t.map((e=>e.market_pair)));return Array.from(e)}),[t]);(0,i.useEffect)((()=>{h.length>0&&o((e=>h.includes(e)?e:h[0]))}),[h]);const g=(0,i.useMemo)((()=>t.filter((e=>e.market_pair===n))),[t,n]),p=(0,i.useMemo)((()=>g.map((e=>({date:e.date.getTime(),tvmii:e.tv_mii||e.tvmii||e.value})))),[g]);return(0,z.FD)(d.A,{sx:{p:2,mt:2},children:[(0,z.FD)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:2,mb:2},children:[(0,z.FD)(u.A,{variant:"h6",children:["Market Pairs TV-MII",(0,z.Y)(T.A,{title:m("marketPairsChart"),children:(0,z.Y)(S.A,{size:"small",children:(0,z.Y)(j.A,{fontSize:"small"})})})]}),(0,z.FD)(R.A,{size:"small",sx:{minWidth:200},children:[(0,z.Y)(B.A,{children:"Market Pair"}),(0,z.Y)(_.A,{value:n,onChange:e=>{o(e.target.value),c((e=>e+1))},label:"Market Pair",children:h.map((e=>(0,z.Y)(L.A,{value:e,children:e},e)))})]})]}),0===g.length?(0,z.Y)(V.A,{severity:"info",sx:{mt:2},children:"No TV-MII data available for the selected market pair."}):(0,z.Y)(l.A,{sx:{height:r?300:400,width:"100%",transition:"all 0.3s ease-in-out"},children:(0,z.Y)(f.u,{children:(0,z.FD)(Y.b,{data:p,margin:{top:10,right:30,left:0,bottom:0},children:[(0,z.Y)(D.d,{strokeDasharray:"3 3"}),(0,z.Y)(k.W,{dataKey:"date",type:"number",scale:"time",domain:["dataMin","dataMax"],tickFormatter:e=>new Date(e).toLocaleDateString(),label:{value:"Date",position:"insideBottom",offset:-10}}),(0,z.Y)(I.h,{domain:[0,1],label:{value:"Integration Index",angle:-90,position:"insideLeft",offset:10}}),(0,z.Y)(w.m,{content:e=>{let{active:t,payload:a,label:i}=e;return t&&null!=a&&a.length?(0,z.FD)(l.A,{sx:{bgcolor:"background.paper",p:1,border:1,borderColor:"divider",borderRadius:1,boxShadow:1,transition:"all 0.2s ease"},children:[(0,z.Y)(u.A,{variant:"body2",children:new Date(i).toLocaleDateString()}),a.map((e=>(0,z.Y)(u.A,{variant:"body2",color:e.color,children:`${e.name}: ${e.value.toFixed(3)}`},e.name)))]}):null},animationDuration:300,animationEasing:"ease-out"}),(0,z.Y)(M.s,{}),(0,z.Y)(C.N,{type:"monotone",dataKey:"tvmii",stroke:"#8884d8",dot:!1,name:"TV-MII",strokeWidth:2,animationBegin:0,animationDuration:1500,animationEasing:"ease-in-out",isAnimationActive:!0})]})},s)}),(0,z.Y)(l.A,{sx:{mt:2,transition:"opacity 0.3s ease-in-out"},children:(0,z.FD)(u.A,{variant:"body2",color:"text.secondary",children:["Time-Varying Market Integration Index for market pair"," ",(0,z.Y)("strong",{children:n}),". Values closer to 1 indicate stronger market integration, while values closer to 0 suggest weaker integration."]})})]})};P.propTypes={data:n().arrayOf(n().shape({date:n().instanceOf(Date).isRequired,tv_mii:n().number,tvmii:n().number,value:n().number,market_pair:n().string.isRequired})).isRequired,selectedCommodity:n().string.isRequired,isMobile:n().bool.isRequired};const N=P;var O=a(14977),$=a(37636),K=a(71543),E=a(24985),H=a(85100);const X=e=>{let{data:t,selectedCommodity:a,isMobile:r}=e;const{getTechnicalTooltip:n}=(0,x.SC)("tvmii"),o=(0,i.useMemo)((()=>{var e,a;if(!t||0===t.length)return null;const i=t.map((e=>e.tvmii)),r=(t.map((e=>new Date(e.date))),i.reduce(((e,t)=>e+t),0)/i.length||0),n=Math.max(...i),o=Math.min(...i),l=null===(e=t.find((e=>e.tvmii===n)))||void 0===e?void 0:e.date,d=null===(a=t.find((e=>e.tvmii===o)))||void 0===a?void 0:a.date,s=t.slice(1).map(((e,a)=>({month:e.date,change:e.tvmii-t[a].tvmii}))),c=s.reduce(((e,t)=>t.change>e.change?t:e),{change:-1/0,month:null}),m=s.reduce(((e,t)=>t.change<e.change?t:e),{change:1/0,month:null});return{mean:r,peak:{value:n,date:l},trough:{value:o,date:d},significantIncrease:c,significantDecrease:m}}),[t]);return o?(0,z.FD)(d.A,{sx:{p:2,mt:2},children:[(0,z.FD)(u.A,{variant:"h6",gutterBottom:!0,children:["TV-MII Analysis Interpretation",(0,z.Y)(T.A,{title:n("interpretation"),children:(0,z.Y)(S.A,{size:"small",children:(0,z.Y)(j.A,{fontSize:"small"})})})]}),o&&(0,z.FD)(z.FK,{children:[(0,z.FD)(s.Ay,{container:!0,spacing:3,children:[(0,z.Y)(s.Ay,{item:!0,xs:12,md:6,children:(0,z.Y)(O.A,{children:(0,z.FD)($.A,{children:[(0,z.FD)(u.A,{variant:"subtitle1",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,z.Y)(E.A,{color:"primary"}),"Overall Summary"]}),(0,z.FD)(u.A,{variant:"body2",children:["The average TV-MII for ",(0,z.Y)("strong",{children:a})," is"," ",(0,z.Y)("strong",{children:o.mean.toFixed(3)}),", indicating"," ",(0,z.Y)("strong",{children:(c=o.mean,c>=.7?{level:"High",color:"success.main"}:c>=.3?{level:"Moderate",color:"warning.main"}:{level:"Low",color:"error.main"}).level})," ","market integration."]})]})})}),(0,z.Y)(s.Ay,{item:!0,xs:12,md:6,children:(0,z.Y)(O.A,{children:(0,z.FD)($.A,{children:[(0,z.FD)(u.A,{variant:"subtitle1",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,z.Y)(E.A,{color:"secondary"}),"Peak & Trough"]}),(0,z.FD)(u.A,{variant:"body2",children:[(0,z.Y)("strong",{children:"Peak TV-MII:"})," ",o.peak.value.toFixed(3)," on"," ",new Date(o.peak.date).toLocaleDateString()]}),(0,z.FD)(u.A,{variant:"body2",sx:{mt:1},children:[(0,z.Y)("strong",{children:"Trough TV-MII:"})," ",o.trough.value.toFixed(3)," on"," ",new Date(o.trough.date).toLocaleDateString()]})]})})})]}),(0,z.Y)(K.A,{sx:{my:3}}),(0,z.FD)(s.Ay,{container:!0,spacing:3,children:[(0,z.Y)(s.Ay,{item:!0,xs:12,md:6,children:(0,z.Y)(O.A,{children:(0,z.FD)($.A,{children:[(0,z.FD)(u.A,{variant:"subtitle1",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,z.Y)(H.A,{color:"error"}),"Significant Decrease"]}),(0,z.FD)(u.A,{variant:"body2",children:[(0,z.Y)("strong",{children:"Change:"})," ",o.significantDecrease.change.toFixed(3)]}),(0,z.FD)(u.A,{variant:"body2",sx:{mt:1},children:[(0,z.Y)("strong",{children:"Month:"})," ",o.significantDecrease.month?new Date(o.significantDecrease.month).toLocaleDateString():"N/A"]})]})})}),(0,z.Y)(s.Ay,{item:!0,xs:12,md:6,children:(0,z.Y)(O.A,{children:(0,z.FD)($.A,{children:[(0,z.FD)(u.A,{variant:"subtitle1",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,z.Y)(E.A,{color:"success"}),"Significant Increase"]}),(0,z.FD)(u.A,{variant:"body2",children:[(0,z.Y)("strong",{children:"Change:"})," ",o.significantIncrease.change.toFixed(3)]}),(0,z.FD)(u.A,{variant:"body2",sx:{mt:1},children:[(0,z.Y)("strong",{children:"Month:"})," ",o.significantIncrease.month?new Date(o.significantIncrease.month).toLocaleDateString():"N/A"]})]})})})]}),(0,z.Y)(K.A,{sx:{my:3}}),(0,z.Y)(u.A,{variant:"subtitle1",gutterBottom:!0,children:"TV-MII Trend"}),(0,z.Y)(l.A,{sx:{width:"100%",height:r?300:400},children:(0,z.Y)(f.u,{children:(0,z.FD)(Y.b,{data:t.map((e=>({date:e.date instanceof Date?e.date.toLocaleDateString():new Date(e.date).toLocaleDateString(),tvmii:e.tvmii}))),margin:{top:10,right:30,left:0,bottom:0},children:[(0,z.Y)(D.d,{strokeDasharray:"3 3"}),(0,z.Y)(k.W,{dataKey:"date"}),(0,z.Y)(I.h,{domain:[0,1],label:{value:"TV-MII",angle:-90,position:"insideLeft",offset:10}}),(0,z.Y)(w.m,{}),(0,z.Y)(C.N,{type:"monotone",dataKey:"tvmii",stroke:"#82ca9d",dot:!1,name:"TV-MII"}),(0,z.Y)(F.e,{y:o.mean,stroke:"blue",strokeDasharray:"3 3",label:{value:"Mean TV-MII",position:"right"}})]})})})]})]}):(0,z.Y)(V.A,{severity:"info",children:"No TV-MII data available for interpretation."});var c};X.propTypes={data:n().arrayOf(n().shape({date:n().oneOfType([n().instanceOf(Date),n().string]).isRequired,tvmii:n().number.isRequired})).isRequired,selectedCommodity:n().string.isRequired,isMobile:n().bool.isRequired};const G=X;var J=a(64146);const Q=e=>{let{data:t}=e;const a=(0,o.A)();return(0,z.FD)(l.A,{sx:{"& .katex":{fontSize:"1.3em"}},children:[(0,z.FD)(d.A,{sx:{p:2,mb:3},children:[(0,z.Y)(u.A,{variant:"h6",gutterBottom:!0,sx:{color:a.palette.primary.main},children:"Time-Varying Market Integration Index Model"}),(0,z.Y)(l.A,{sx:{my:3},children:(0,z.Y)(J.BlockMath,{math:"MII_t = \\frac{1}{N} \\sum_{i=1}^N \\sum_{j=1}^N w_{ij} \\rho_{ij,t}"})}),(0,z.FD)(u.A,{variant:"body2",paragraph:!0,children:["Where ",(0,z.Y)(J.InlineMath,{math:"MII_t"})," is the market integration index at time t,",(0,z.Y)(J.InlineMath,{math:"\\\\rho_{ij,t}"})," is the price correlation between markets i and j, and ",(0,z.Y)(J.InlineMath,{math:"w_{ij}"})," are spatial weights based on market distances"]})]}),(0,z.FD)(s.Ay,{container:!0,spacing:3,sx:{mb:3},children:[(0,z.Y)(s.Ay,{item:!0,xs:12,md:4,children:(0,z.FD)(l.A,{sx:{p:2,bgcolor:a.palette.background.default,borderRadius:1,height:"100%"},children:[(0,z.Y)(u.A,{variant:"subtitle1",color:"primary",gutterBottom:!0,children:"Rolling Window Estimation"}),(0,z.Y)(l.A,{sx:{my:2},children:(0,z.Y)(J.BlockMath,{math:"\\rho_{ij,t} = corr(P_i, P_j)_{t-w:t}"})}),(0,z.Y)(u.A,{variant:"body2",children:"Dynamic price correlations computed using a rolling window of w periods to capture temporal variations in market relationships"})]})}),(0,z.Y)(s.Ay,{item:!0,xs:12,md:4,children:(0,z.FD)(l.A,{sx:{p:2,bgcolor:a.palette.background.default,borderRadius:1,height:"100%"},children:[(0,z.Y)(u.A,{variant:"subtitle1",color:"primary",gutterBottom:!0,children:"Spatial Weights"}),(0,z.Y)(l.A,{sx:{my:2},children:(0,z.Y)(J.BlockMath,{math:"w_{ij} = \\frac{1}{d_{ij}^\\alpha}"})}),(0,z.Y)(u.A,{variant:"body2",children:"Distance-based weights capturing market connectivity and trade flows, where d_ij is the distance between markets"})]})}),(0,z.Y)(s.Ay,{item:!0,xs:12,md:4,children:(0,z.FD)(l.A,{sx:{p:2,bgcolor:a.palette.background.default,borderRadius:1,height:"100%"},children:[(0,z.Y)(u.A,{variant:"subtitle1",color:"primary",gutterBottom:!0,children:"Conflict Adjustment"}),(0,z.Y)(l.A,{sx:{my:2},children:(0,z.Y)(J.BlockMath,{math:"\\rho_{ij,t}^* = \\rho_{ij,t} \\cdot (1 - CI_{ij,t})"})}),(0,z.Y)(u.A,{variant:"body2",children:"Adjusts market correlations based on conflict intensity between market pairs to account for trade disruptions"})]})})]}),(0,z.FD)(d.A,{sx:{p:2,bgcolor:a.palette.grey[50]},children:[(0,z.Y)(u.A,{variant:"h6",gutterBottom:!0,children:"Model Properties"}),(0,z.FD)(s.Ay,{container:!0,spacing:2,children:[(0,z.FD)(s.Ay,{item:!0,xs:12,md:6,children:[(0,z.Y)(u.A,{variant:"subtitle1",color:"primary",gutterBottom:!0,children:"Key Features:"}),(0,z.FD)(u.A,{variant:"body2",children:["• Dynamic measurement of market integration",(0,z.Y)("br",{}),"• Accounts for spatial dependencies",(0,z.Y)("br",{}),"• Incorporates conflict impacts",(0,z.Y)("br",{}),"• Normalized index range: [0,1]"]})]}),(0,z.FD)(s.Ay,{item:!0,xs:12,md:6,children:[(0,z.Y)(u.A,{variant:"subtitle1",color:"primary",gutterBottom:!0,children:"Economic Implications:"}),(0,z.FD)(u.A,{variant:"body2",children:["• Higher values indicate stronger market integration",(0,z.Y)("br",{}),"• Temporal variations reveal integration dynamics",(0,z.Y)("br",{}),"• Distance decay affects integration strength",(0,z.Y)("br",{}),"• Conflict reduces effective market connectivity"]})]})]})]})]})};Q.propTypes={data:n().arrayOf(n().shape({date:n().string,mii:n().number,window_size:n().number,conflict_adjusted:n().bool}))};const U=Q;var Z=a(85703);const ee=e=>{let{selectedCommodity:t,windowWidth:a}=e;const r=(0,o.A)(),n=(e=>({root:{marginTop:e.spacing(4),padding:e.spacing(4),width:"100%",backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:{xs:"column",sm:"row"},padding:e.spacing(3),backgroundColor:e.palette.background.paper,borderBottom:`1px solid ${e.palette.divider}`,marginBottom:e.spacing(4)},title:{fontFamily:'"Merriweather", serif',fontWeight:700,fontSize:"1.75rem",color:e.palette.primary.main,display:"flex",alignItems:"center",gap:e.spacing(1),marginBottom:e.spacing(1)},subtitle:{color:e.palette.text.secondary,fontSize:"1rem",marginBottom:e.spacing(2)},infoIcon:{color:e.palette.info.main,"&:hover":{color:e.palette.info.dark}},controlsContainer:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:e.spacing(2),alignItems:"center",marginTop:{xs:e.spacing(2),sm:0},padding:e.spacing(2),backgroundColor:(0,Z.X4)(e.palette.background.default,.5),borderRadius:e.shape.borderRadius},toggleGroup:{backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,"& .MuiToggleButton-root":{padding:"8px 16px",border:`1px solid ${e.palette.divider}`,"&.Mui-selected":{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,fontWeight:600,"&:hover":{backgroundColor:e.palette.primary.dark}}}},downloadButton:{backgroundColor:e.palette.success.main,color:e.palette.common.white,"&:hover":{backgroundColor:e.palette.success.dark}},resultsContainer:{marginTop:e.spacing(4)},sectionTitle:{fontFamily:'"Merriweather", serif',color:e.palette.primary.main,fontSize:"1.25rem",fontWeight:700,marginBottom:e.spacing(3),paddingBottom:e.spacing(1),borderBottom:`2px solid ${(0,Z.X4)(e.palette.primary.main,.1)}`},insightCard:{padding:e.spacing(3),height:"100%",backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)"}},insightHeader:{display:"flex",alignItems:"center",gap:e.spacing(2),marginBottom:e.spacing(2),"& .MuiSvgIcon-root":{fontSize:"2rem",color:e.palette.primary.main}},insightValue:{color:e.palette.primary.main,fontWeight:700,fontSize:"2rem",marginBottom:e.spacing(1)},chartPaper:{padding:e.spacing(3),marginBottom:e.spacing(4),backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)"},chartTitle:{fontFamily:'"Merriweather", serif',fontSize:"1.1rem",fontWeight:600,color:e.palette.text.primary,marginBottom:e.spacing(2)},chartDescription:{color:e.palette.text.secondary,fontSize:"0.875rem",marginTop:e.spacing(2),padding:e.spacing(2),backgroundColor:(0,Z.X4)(e.palette.background.default,.5),borderRadius:e.shape.borderRadius,border:`1px solid ${e.palette.divider}`},interpretationGuide:{marginTop:e.spacing(4),padding:e.spacing(3),backgroundColor:(0,Z.X4)(e.palette.info.main,.03),borderRadius:e.shape.borderRadius,border:`1px solid ${(0,Z.X4)(e.palette.info.main,.1)}`},methodologyNote:{marginTop:e.spacing(2),padding:e.spacing(2),backgroundColor:(0,Z.X4)(e.palette.background.default,.5),borderRadius:e.shape.borderRadius,fontSize:"0.875rem",color:e.palette.text.secondary},alert:{marginBottom:e.spacing(2),"& .MuiAlert-icon":{fontSize:"1.5rem"}},divider:{margin:e.spacing(4,0)}}))(r),f=a<r.breakpoints.values.sm,[Y,D]=(0,i.useState)("overall"),[k,I]=(0,i.useState)(!1),[w,M]=(0,i.useState)(!1),[F,C]=(0,i.useState)([]),[T,S]=(0,i.useState)([]),{tvmiiData:R,marketPairsData:B,status:_,error:L}=(0,x.vy)(),{getTechnicalTooltip:V}=(0,x.SC)("tvmii");(0,i.useEffect)((()=>{if(R){const e=R.filter((e=>e.commodity.toLowerCase()===t.toLowerCase()));C(e)}if(B){const e=B.filter((e=>e.commodity.toLowerCase()===t.toLowerCase()));S(e)}}),[R,B,t]);const j=(0,i.useCallback)((()=>{try{const e="overall"===Y?F:T,a=new Blob([JSON.stringify(e,null,2)],{type:"application/json"});(0,A.saveAs)(a,`tvmii_${Y}_${t}.json`)}catch(e){}}),[Y,F,T,t]),W="overall"===Y?F.length>0:T.length>0;return"loading"===_||L?null:(0,z.FD)(l.A,{sx:{width:"100%",mb:4},children:[(0,z.Y)(d.A,{sx:{p:2,mb:3},children:(0,z.FD)(s.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,z.Y)(s.Ay,{item:!0,xs:12,md:8,children:(0,z.FD)(c.A,{value:Y,exclusive:!0,onChange:(e,t)=>{t&&D(t)},"aria-label":"View Type",size:f?"small":"medium",sx:n.toggleGroup,children:[(0,z.Y)(m.A,{value:"overall",children:"Overall TV-MII"}),(0,z.Y)(m.A,{value:"marketPairs",children:"Market Pairs"})]})}),(0,z.Y)(s.Ay,{item:!0,xs:12,md:4,children:(0,z.Y)(h.A,{fullWidth:!0,variant:"contained",startIcon:(0,z.Y)(y.A,{}),onClick:j,disabled:!W,children:"Download Results"})})]})}),W&&(0,z.FD)(z.FK,{children:[(0,z.FD)(g.A,{expanded:k,onChange:()=>I(!k),sx:{mb:3},children:[(0,z.Y)(p.A,{expandIcon:(0,z.Y)(v.A,{}),sx:{backgroundColor:r.palette.grey[50],"&:hover":{backgroundColor:r.palette.grey[100]}},children:(0,z.Y)(u.A,{variant:"h6",children:"Time-Varying Market Integration Index Framework"})}),(0,z.Y)(b.A,{children:(0,z.Y)(U,{data:"overall"===Y?F:T})})]}),(0,z.FD)(d.A,{sx:{p:2,mb:3},children:[(0,z.Y)(u.A,{variant:"h6",gutterBottom:!0,children:"overall"===Y?"Overall Market Integration":"Market Pair Integration"}),"overall"===Y?(0,z.Y)(q,{data:F,selectedCommodity:t,isMobile:f}):(0,z.Y)(N,{data:T,selectedCommodity:t,isMobile:f})]}),(0,z.FD)(g.A,{expanded:w,onChange:()=>M(!w),sx:{mt:3},children:[(0,z.Y)(p.A,{expandIcon:(0,z.Y)(v.A,{}),sx:{backgroundColor:r.palette.grey[50],"&:hover":{backgroundColor:r.palette.grey[100]}},children:(0,z.Y)(u.A,{variant:"h6",children:"Market Integration Analysis Interpretation"})}),(0,z.Y)(b.A,{children:(0,z.Y)(G,{data:F,marketPairsData:T,selectedCommodity:t,viewType:Y,isMobile:f})})]})]})]})};ee.propTypes={selectedCommodity:n().string.isRequired,windowWidth:n().number.isRequired};const te=ee},45721:(e,t,a)=>{a.d(t,{b:()=>d});var i=a(87078),r=a(86279),n=a(77984),o=a(23495),l=a(15894),d=(0,i.gu)({chartName:"LineChart",GraphicalChild:r.N,axisComponents:[{axisType:"xAxis",AxisComp:n.W},{axisType:"yAxis",AxisComp:o.h}],formatAxisMap:l.pr})}}]);